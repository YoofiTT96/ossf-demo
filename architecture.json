{
  "nodes": [
    {
      "unique-id": "consumer-service",
      "name": "Consumer Service",
      "description": "Consumer Service, optionally used in this architecture",
      "node-type": "service",
      "metadata": [
        {
          "technology": [
            "SpringBoot",
            "Java"
          ]
        }
      ]
    },
    {
      "unique-id": "producer-service",
      "name": "Producer Service",
      "description": "Application to provide updates on results and stats",
      "node-type": "service"
    },
    {
      "unique-id": "mongo-database",
      "name": "Mongo Database",
      "description": "Mongo Database used by Producer Service",
      "node-type": "database"
    }
  ],
  "relationships": [
    {
      "unique-id": "consumer-service-to-producer-service",
      "description": "Consumer Service connects to Producer Service",
      "relationship-type": {
        "connects": {
          "source": {
            "node": "consumer-service"
          },
          "destination": {
            "node": "producer-service"
          }
        }
      }
    },
    {
      "unique-id": "producer-service-to-mongo-database",
      "description": "Producer Service connects to the Mongo Database",
      "relationship-type": {
        "connects": {
          "source": {
            "node": "producer-service"
          },
          "destination": {
            "node": "mongo-database"
          }
        }
      }
    },
    {
      "unique-id": "connection-options",
      "description": "The choice of consumer to use in the pattern",
      "relationship-type": {
        "options": [
          {
            "description": "Spring Consumer connects to Producer Service",
            "nodes": [
              "consumer-service"
            ],
            "relationships": [
              "consumer-service-to-producer-service"
            ]
          }
        ]
      }
    },
    {
      "unique-id": "connection-options-2",
      "description": "The choice of database to use in the pattern",
      "relationship-type": {
        "options": [
          {
            "description": "Producer Service connects to Mongo Database",
            "nodes": [
              "mongo-database"
            ],
            "relationships": [
              "producer-service-to-mongo-database"
            ]
          }
        ]
      }
    }
  ],
  "$schema": "https://calm.finos.org/release/1.0-rc1/prototype/oneof/options-prototype.pattern.json"
}